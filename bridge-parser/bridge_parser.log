2025-07-03 23:22:31,478 - ERROR - ğŸ’¥ System initialization failed: Invalid URL
2025-07-03 23:22:31,479 - ERROR - ğŸ’¥ Fatal error: Invalid URL
2025-07-03 23:30:33,791 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?select=id%2Claw_number%2Ccontent%2Ctitle "HTTP/2 200 OK"
2025-07-03 23:30:33,805 - INFO - ğŸ” Loaded 18 existing laws for duplicate detection
2025-07-03 23:30:33,806 - INFO - âœ… Enhanced Supabase Manager initialized
2025-07-03 23:30:33,806 - INFO - âœ… Database manager initialized
2025-07-03 23:30:33,817 - INFO - ğŸ—„ï¸  Setting up enhanced database schema...
2025-07-03 23:30:33,817 - INFO - âœ… Database schema ready
2025-07-03 23:30:33,817 - INFO - ğŸ”§ Available parsing methods: pdfplumber, pypdf2
2025-07-03 23:30:33,817 - INFO - âœ… PDF parser initialized
2025-07-03 23:30:33,817 - INFO - âœ… Navigation system initialized
2025-07-03 23:30:33,817 - INFO - ğŸš€ Complete Bridge Parser System ready!
2025-07-03 23:30:33,817 - INFO - ğŸ§ª Running system tests only...
2025-07-03 23:30:33,817 - INFO - ğŸ§ª Running system functionality tests...
2025-07-03 23:30:33,890 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?select=%2A&limit=1 "HTTP/2 206 Partial Content"
2025-07-03 23:30:33,968 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?select=category "HTTP/2 400 Bad Request"
2025-07-03 23:30:33,969 - ERROR - âŒ Error getting stats for code_laws: {'message': 'column code_laws.category does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-07-03 23:30:34,027 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/law_references?select=%2A&limit=1 "HTTP/2 200 OK"
2025-07-03 23:30:34,087 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/rnc_articles?select=%2A&limit=1 "HTTP/2 206 Partial Content"
2025-07-03 23:30:34,155 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/conventions?select=%2A&limit=1 "HTTP/2 404 Not Found"
2025-07-03 23:30:34,156 - ERROR - âŒ Error getting stats for conventions: {'message': 'relation "public.conventions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-07-03 23:30:34,158 - INFO - ğŸ§ª Test Results:
2025-07-03 23:30:34,159 - INFO -    database_connection: âœ… PASS
2025-07-03 23:30:34,159 - INFO -    pdf_parsing_methods: âœ… PASS
2025-07-03 23:30:34,159 - INFO -    duplicate_detection: âœ… PASS
2025-07-03 23:30:34,159 - INFO -    navigation_system: âœ… PASS
2025-07-03 23:30:34,159 - INFO -    law_references: âœ… PASS
2025-07-03 23:30:34,159 - INFO - ğŸ‰ All tests passed!
2025-07-03 23:47:29,262 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?select=id%2Claw_number%2Ccontent%2Ctitle "HTTP/2 200 OK"
2025-07-03 23:47:29,283 - INFO - ğŸ” Loaded 18 existing laws for duplicate detection
2025-07-03 23:47:29,283 - INFO - âœ… Enhanced Supabase Manager initialized
2025-07-03 23:47:29,284 - INFO - âœ… Database manager initialized
2025-07-03 23:47:29,294 - INFO - ğŸ—„ï¸  Setting up enhanced database schema...
2025-07-03 23:47:29,294 - INFO - âœ… Database schema ready
2025-07-03 23:47:29,294 - INFO - ğŸ”§ Available parsing methods: pdfplumber, pypdf2
2025-07-03 23:47:29,294 - INFO - âœ… PDF parser initialized
2025-07-03 23:47:29,294 - INFO - âœ… Navigation system initialized
2025-07-03 23:47:29,294 - INFO - ğŸš€ Complete Bridge Parser System ready!
2025-07-03 23:47:29,294 - INFO - ğŸ¯ Starting complete processing pipeline
2025-07-03 23:47:29,294 - INFO - ğŸ“ Source directory: /Users/lekibbitz/Desktop/BridgeFacile/Code 2017-Test
2025-07-03 23:47:29,294 - INFO - ğŸ—‘ï¸  Clear existing data: True
2025-07-03 23:47:29,294 - INFO - ğŸ§ª Test mode: True
2025-07-03 23:47:29,295 - ERROR - ğŸ’¥ Processing pipeline failed: PDF directory not found: /Users/lekibbitz/Desktop/BridgeFacile/Code 2017-Test
2025-07-03 23:47:29,295 - ERROR - âŒ Processing completed with errors!
2025-07-03 23:49:32,965 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?select=id%2Claw_number%2Ccontent%2Ctitle "HTTP/2 200 OK"
2025-07-03 23:49:32,983 - INFO - ğŸ” Loaded 18 existing laws for duplicate detection
2025-07-03 23:49:32,983 - INFO - âœ… Enhanced Supabase Manager initialized
2025-07-03 23:49:32,983 - INFO - âœ… Database manager initialized
2025-07-03 23:49:32,992 - INFO - ğŸ—„ï¸  Setting up enhanced database schema...
2025-07-03 23:49:32,992 - INFO - âœ… Database schema ready
2025-07-03 23:49:32,992 - INFO - ğŸ”§ Available parsing methods: pdfplumber, pypdf2
2025-07-03 23:49:32,992 - INFO - âœ… PDF parser initialized
2025-07-03 23:49:32,992 - INFO - âœ… Navigation system initialized
2025-07-03 23:49:32,992 - INFO - ğŸš€ Complete Bridge Parser System ready!
2025-07-03 23:49:32,992 - INFO - ğŸ¯ Starting complete processing pipeline
2025-07-03 23:49:32,992 - INFO - ğŸ“ Source directory: /Users/lekibbitz/Desktop/BF3-Manus-Code 2017-Test
2025-07-03 23:49:32,992 - INFO - ğŸ—‘ï¸  Clear existing data: True
2025-07-03 23:49:32,993 - INFO - ğŸ§ª Test mode: True
2025-07-03 23:49:33,027 - INFO - ğŸ“„ Found 4 PDF files to process
2025-07-03 23:49:33,027 - INFO - ğŸ—‘ï¸  Clearing existing database data...
2025-07-03 23:49:33,122 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?select=id "HTTP/2 200 OK"
2025-07-03 23:49:33,223 - INFO - HTTP Request: DELETE https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?id=neq.0 "HTTP/2 400 Bad Request"
2025-07-03 23:49:33,224 - ERROR - âŒ Error clearing code_laws: {'message': 'invalid input syntax for type uuid: "0"', 'code': '22P02', 'hint': None, 'details': None}
2025-07-03 23:49:33,309 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/law_references?select=id "HTTP/2 200 OK"
2025-07-03 23:49:33,396 - INFO - HTTP Request: DELETE https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/law_references?id=neq.0 "HTTP/2 400 Bad Request"
2025-07-03 23:49:33,397 - ERROR - âŒ Error clearing law_references: {'message': 'invalid input syntax for type uuid: "0"', 'code': '22P02', 'hint': None, 'details': None}
2025-07-03 23:49:33,397 - INFO - âœ… Cleared data: {'code_laws': 0, 'law_references': 0}
2025-07-03 23:49:33,397 - INFO - ğŸ“š Starting PDF processing...
2025-07-03 23:49:33,493 - INFO - ğŸ“„ Parsing: Code 2017-3.pdf
2025-07-03 23:49:33,549 - INFO - ğŸ“– Page 1/10: Found 0 laws
2025-07-03 23:49:33,554 - INFO - ğŸ“– Page 2/10: Found 0 laws
2025-07-03 23:49:33,571 - INFO - ğŸ“– Page 3/10: Found 0 laws
2025-07-03 23:49:33,586 - INFO - ğŸ“– Page 4/10: Found 0 laws
2025-07-03 23:49:33,610 - INFO - ğŸ“– Page 5/10: Found 0 laws
2025-07-03 23:49:33,626 - INFO - ğŸ“– Page 6/10: Found 0 laws
2025-07-03 23:49:33,635 - INFO - ğŸ“– Page 7/10: Found 0 laws
2025-07-03 23:49:33,671 - INFO - ğŸ“– Page 8/10: Found 0 laws
2025-07-03 23:49:33,697 - INFO - ğŸ“– Page 9/10: Found 0 laws
2025-07-03 23:49:33,725 - INFO - ğŸ“– Page 10/10: Found 0 laws
2025-07-03 23:49:33,725 - INFO - ğŸ›‘ Stopping at page 10 (testing limit)
2025-07-03 23:49:33,725 - INFO - âœ… Code 2017-3.pdf: 0 laws extracted
2025-07-03 23:49:33,725 - INFO - ğŸ“„ Parsing: Code 2017-1.pdf
2025-07-03 23:49:33,739 - INFO - ğŸ“– Page 1/10: Found 0 laws
2025-07-03 23:49:33,740 - INFO - ğŸ“– Page 2/10: Found 0 laws
2025-07-03 23:49:33,740 - INFO - ğŸ“– Page 3/10: Found 0 laws
2025-07-03 23:49:33,788 - INFO - ğŸ“– Page 4/10: Found 0 laws
2025-07-03 23:49:33,822 - INFO - ğŸ“– Page 5/10: Found 0 laws
2025-07-03 23:49:33,914 - INFO - ğŸ“– Page 6/10: Found 0 laws
2025-07-03 23:49:34,016 - INFO - ğŸ“– Page 7/10: Found 0 laws
2025-07-03 23:49:34,108 - INFO - ğŸ“– Page 8/10: Found 0 laws
2025-07-03 23:49:34,233 - INFO - ğŸ“– Page 9/10: Found 0 laws
2025-07-03 23:49:34,328 - INFO - ğŸ“– Page 10/10: Found 0 laws
2025-07-03 23:49:34,328 - INFO - ğŸ›‘ Stopping at page 10 (testing limit)
2025-07-03 23:49:34,329 - INFO - âœ… Code 2017-1.pdf: 0 laws extracted
2025-07-03 23:49:34,329 - INFO - ğŸ“„ Parsing: Code 2017-4.pdf
2025-07-03 23:49:34,360 - INFO - ğŸ“– Page 1/10: Found 0 laws
2025-07-03 23:49:34,385 - INFO - ğŸ“– Page 2/10: Found 0 laws
2025-07-03 23:49:34,421 - INFO - ğŸ“– Page 3/10: Found 0 laws
2025-07-03 23:49:34,448 - INFO - ğŸ“– Page 4/10: Found 0 laws
2025-07-03 23:49:34,466 - INFO - ğŸ“– Page 5/10: Found 0 laws
2025-07-03 23:49:34,482 - INFO - ğŸ“– Page 6/10: Found 0 laws
2025-07-03 23:49:34,553 - INFO - ğŸ“– Page 7/10: Found 0 laws
2025-07-03 23:49:34,591 - INFO - ğŸ“– Page 8/10: Found 0 laws
2025-07-03 23:49:34,618 - INFO - ğŸ“– Page 9/10: Found 0 laws
2025-07-03 23:49:34,640 - INFO - ğŸ“– Page 10/10: Found 0 laws
2025-07-03 23:49:34,640 - INFO - ğŸ›‘ Stopping at page 10 (testing limit)
2025-07-03 23:49:34,640 - INFO - âœ… Code 2017-4.pdf: 0 laws extracted
2025-07-03 23:49:34,640 - INFO - ğŸ“„ Parsing: Code 2017-6.pdf
2025-07-03 23:49:34,671 - INFO - ğŸ“– Page 1/10: Found 0 laws
2025-07-03 23:49:34,680 - INFO - ğŸ“– Page 2/10: Found 0 laws
2025-07-03 23:49:34,723 - INFO - ğŸ“– Page 3/10: Found 0 laws
2025-07-03 23:49:34,762 - INFO - ğŸ“– Page 4/10: Found 0 laws
2025-07-03 23:49:34,792 - INFO - ğŸ“– Page 5/10: Found 0 laws
2025-07-03 23:49:34,803 - INFO - ğŸ“– Page 6/10: Found 0 laws
2025-07-03 23:49:34,828 - INFO - ğŸ“– Page 7/10: Found 0 laws
2025-07-03 23:49:34,845 - INFO - ğŸ“– Page 8/10: Found 0 laws
2025-07-03 23:49:34,884 - INFO - ğŸ“– Page 9/10: Found 0 laws
2025-07-03 23:49:34,900 - INFO - ğŸ“– Page 10/10: Found 0 laws
2025-07-03 23:49:34,900 - INFO - ğŸ›‘ Stopping at page 10 (testing limit)
2025-07-03 23:49:34,900 - INFO - âœ… Code 2017-6.pdf: 0 laws extracted
2025-07-03 23:49:34,900 - INFO - ğŸ“Š PROCESSING COMPLETE
2025-07-03 23:49:34,900 - INFO - ğŸ“ Files processed: 4/4
2025-07-03 23:49:34,900 - INFO - âš–ï¸  Laws extracted: 0
2025-07-03 23:49:34,900 - INFO - ğŸ”— References found: 0
2025-07-03 23:49:34,900 - INFO - â±ï¸  Duration: 1.5 seconds
2025-07-03 23:49:34,900 - INFO - âŒ Errors: 0
2025-07-03 23:49:34,900 - INFO - ğŸ“Š Gathering database statistics...
2025-07-03 23:49:34,993 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?select=%2A&limit=1 "HTTP/2 206 Partial Content"
2025-07-03 23:49:35,100 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/code_laws?select=category "HTTP/2 400 Bad Request"
2025-07-03 23:49:35,100 - ERROR - âŒ Error getting stats for code_laws: {'message': 'column code_laws.category does not exist', 'code': '42703', 'hint': None, 'details': None}
2025-07-03 23:49:35,174 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/law_references?select=%2A&limit=1 "HTTP/2 200 OK"
2025-07-03 23:49:35,272 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/rnc_articles?select=%2A&limit=1 "HTTP/2 206 Partial Content"
2025-07-03 23:49:35,378 - INFO - HTTP Request: GET https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/conventions?select=%2A&limit=1 "HTTP/2 404 Not Found"
2025-07-03 23:49:35,379 - ERROR - âŒ Error getting stats for conventions: {'message': 'relation "public.conventions" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-07-03 23:49:35,380 - INFO - ğŸ§­ Setting up navigation system...
2025-07-03 23:49:35,380 - INFO - âš¡ Running database optimization...
2025-07-03 23:49:35,380 - INFO - âš¡ Starting database optimization...
2025-07-03 23:49:35,464 - INFO - HTTP Request: POST https://aqokcjsmajnpfkladubp.supabase.co/rest/v1/rpc/remove_duplicate_references "HTTP/2 404 Not Found"
2025-07-03 23:49:35,465 - ERROR - âŒ Database optimization failed: {'message': 'Could not find the function public.remove_duplicate_references without parameters in the schema cache', 'code': 'PGRST202', 'hint': 'Perhaps you meant to call the function public.detect_law_references', 'details': 'Searched for the function public.remove_duplicate_references without parameters or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.'}
2025-07-03 23:49:35,466 - INFO - ============================================================
2025-07-03 23:49:35,466 - INFO - ğŸ‰ PROCESSING COMPLETE - SUMMARY
2025-07-03 23:49:35,466 - INFO - ============================================================
2025-07-03 23:49:35,466 - INFO - ğŸ“„ PDF Processing:
2025-07-03 23:49:35,466 - INFO -    Files processed: 4/4
2025-07-03 23:49:35,466 - INFO -    Laws extracted: 0
2025-07-03 23:49:35,466 - INFO -    References found: 0
2025-07-03 23:49:35,466 - INFO -    Duration: 1.5 seconds
2025-07-03 23:49:35,467 - INFO -    Errors: 0
2025-07-03 23:49:35,467 - INFO - ğŸ—„ï¸  Database Status:
2025-07-03 23:49:35,467 - INFO -    code_laws: 0 records
2025-07-03 23:49:35,467 - INFO -    law_references: 0 records
2025-07-03 23:49:35,467 - INFO -    rnc_articles: 5 records
2025-07-03 23:49:35,467 - INFO -    conventions: 0 records
2025-07-03 23:49:35,467 - INFO - ğŸ§­ Navigation: Ready
2025-07-03 23:49:35,467 - INFO - âœ… PIPELINE COMPLETED SUCCESSFULLY
2025-07-03 23:49:35,467 - INFO - ============================================================
2025-07-03 23:49:35,467 - INFO - ğŸ‰ Processing completed successfully!
